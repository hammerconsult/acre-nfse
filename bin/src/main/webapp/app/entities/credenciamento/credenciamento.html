<div class="row" ng-show="!prestadorServicos">
    <form class="form-horizontal" name="formPesquisa" role="form">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h4>Informe o CNPJ da empresa que deseja o acesso</h4>
                </div>
                <div class="ibox-content" >
                    <div class="form-group">
                        <div class="col-md-4">
                            <label for="pesquisaCnpj">C.N.P.J.</label>

                            <input type="text" class="form-control" name="pesquisaCnpj" id="pesquisaCnpj"
                                   ui-br-cnpj-mask=""
                                   ng-model="cnpj" required>

                            <div ng-show="formPesquisa.pesquisaCnpj.$invalid" class="has-error">
                                <p class="help-block"
                                   ng-show="formPesquisa.pesquisaCnpj.$error.required">
                                    Informe o CNPJ
                                </p>

                                <p class="help-block"
                                   ng-show="formPesquisa.pesquisaCnpj.$error.cpf || formPesquisa.pesquisaCnpj.$error.cnpj">
                                    CNPJ inválido
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-12">
                            <button class="btn btn-info" ng-click="loadByCpfCnpj()">
                                Continuar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<div class="row" ng-show="prestadorServicos">
    <form class="form-horizontal" name="editForm" role="form" novalidate ng-submit="save()">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h4>Dados Legais</h4>
                </div>
                <div class="ibox-content">
                    <div class="form-group">
                        <div class="col-md-6">
                            <label for="field_cpfCnpj">C.N.P.J.</label>

                            <input type="text" class="form-control" name="cpfCnpj" id="field_cpfCnpj"
                                   ui-br-cnpj-mask=""
                                   disabled
                                   ng-model="prestadorServicos.pessoa.dadosPessoais.cpfCnpj" required>

                            <div ng-show="editForm.cpfCnpj.$invalid" class="has-error">
                                <p class="help-block"
                                   ng-show="editForm.cpfCnpj.$error.required">
                                    Informe o CNPJ
                                </p>

                                <p class="help-block"
                                   ng-show="editForm.cpfCnpj.$error.cpf || editForm.cpfCnpj.$error.cnpj">
                                    CNPJ inválido
                                </p>
                            </div>
                        </div>
                        <div>
                            <div class="col-md-3">
                                <label
                                        for="field_inscricaoMunicipal">Inscrição Municipal</label>

                                <input type="text" class="form-control" name="inscricaoMunicipal"
                                       id="field_inscricaoMunicipal"
                                       ng-disabled="prestadorServicos.id"
                                       ng-model="prestadorServicos.inscricaoMunicipal">
                            </div>

                            <div class="col-md-3">
                                <label
                                        for="field_inscricaoEstadualRg">Inscrição Estadual</label>

                                <input type="text" class="form-control" name="inscricaoEstadualRg"
                                       id="field_inscricaoEstadualRg"
                                       ng-disabled="prestadorServicos.id"
                                       ng-model="prestadorServicos.pessoa.dadosPessoais.inscricaoEstadualRg">
                            </div>
                        </div>
                    </div>
                    <div class="form-group ">
                        <div class="col-md-6">
                            <label
                                    for="field_nomeRazaoSocial">Razão Social</label>

                            <input type="text" class="form-control" name="nomeRazaoSocial" id="field_nomeRazaoSocial"
                                   ng-disabled="prestadorServicos.id"
                                   ng-model="prestadorServicos.pessoa.dadosPessoais.nomeRazaoSocial">
                        </div>

                        <div class="col-md-6">
                            <label
                                    for="field_nomeFantasia">Nome Fantasia</label>
                            <input type="text" class="form-control" name="nomeFantasia"
                                   ng-disabled="prestadorServicos.id"
                                   id="field_nomeFantasia"
                                   ng-model="prestadorServicos.pessoa.dadosPessoais.nomeFantasia">

                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-6">
                            <label for="field_email">e-Mail</label>
                            <input type="email" class="form-control" name="email" id="field_email"
                                   ng-disabled="prestadorServicos.id"
                                   ng-model="prestadorServicos.pessoa.dadosPessoais.email">
                        </div>

                        <div class="col-md-3">
                            <label for="field_telefone">Telefone</label>
                            <input type="text" class="form-control" name="telefone" id="field_telefone"
                                   ng-disabled="prestadorServicos.id"
                                   ng-model="prestadorServicos.pessoa.dadosPessoais.telefone">
                        </div>

                        <div class="col-md-3">
                            <label for="field_celular">Celular</label>
                            <input type="text" class="form-control" name="celular" id="field_celular"
                                   ng-disabled="prestadorServicos.id"
                                   ng-model="prestadorServicos.pessoa.dadosPessoais.celular">

                        </div>
                    </div>
                </div>
            </div>
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h4>Endereço</h4>
                </div>
                <div class="ibox-content">
                    <div class="form-group">
                        <div class="col-md-2">
                            <label for="field_cep">C.E.P.</label>
                            <input type="text" class="form-control" name="id" id="field_cep"
                                   ng-disabled="prestadorServicos.id"
                                   ng-blur="loadEnderecoByCEP(prestadorServicos.pessoa.dadosPessoais.cep)"
                                   ng-model="prestadorServicos.pessoa.dadosPessoais.cep">
                        </div>

                        <div class="col-md-8">
                            <label for="field_nome_municipio">Municipio</label>
                            <div class="input-group">
                                <input type="text" class="form-control" name="nome_municipio" id="field_nome_municipio"
                                       disabled
                                       ng-model="prestadorServicos.pessoa.dadosPessoais.municipio.nome">
                                <span class="input-group-btn">
                                            <button ng-disabled="prestadorServicos.id"
                                                    type="button" class="btn" ng-click="searchMunicipio()">
                                                <span class="glyphicon glyphicon-search"></span>
                                            </button>
                                         </span>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <label for="field_estado_municipio">Estado</label>
                            <input type="text" class="form-control" name="estado_municipio"
                                   id="field_estado_municipio"
                                   disabled
                                   ng-model="prestadorServicos.pessoa.dadosPessoais.municipio.estado">

                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-12">
                            <label for="field_logradouro">Logradouro</label>
                            <input type="text" class="form-control" name="logradouro" id="field_logradouro"
                                   ng-disabled="prestadorServicos.id"
                                   ng-model="prestadorServicos.pessoa.dadosPessoais.logradouro">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-6">
                            <label for="field_bairro">Bairro</label>
                            <input type="text" class="form-control"
                                   ng-disabled="prestadorServicos.id"
                                   name="bairro" id="field_bairro"
                                   ng-model="prestadorServicos.pessoa.dadosPessoais.bairro">

                        </div>
                        <div class="col-md-2">
                            <label for="field_numero">Número</label>
                            <input type="text" class="form-control"
                                   ng-disabled="prestadorServicos.id"
                                   name="numero" id="field_numero"
                                   ng-model="prestadorServicos.pessoa.dadosPessoais.numero">
                        </div>
                        <div class="col-md-4">
                            <label for="field_complemento">Complemento</label>
                            <input type="text" class="form-control"
                                   ng-disabled="prestadorServicos.id"
                                   name="complemento" id="field_complemento"
                                   ng-model="prestadorServicos.pessoa.dadosPessoais.complemento">

                        </div>
                    </div>
                </div>
            </div>

            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h4>Socios</h4>
                </div>
                <div class="ibox-content">
                    <div class="form-group">
                        <div class="col-md-3">
                            <label class="center-block">CPF/CNPJ</label>
                        </div>
                        <div class="col-md-7">
                            <label class="center-block">Nome</label>
                        </div>
                        <div class="col-md-2">
                            <label class="center-block">Percentual</label>
                        </div>
                    </div>
                    <div class="form-group" data-ng-repeat="socio in prestadorServicos.socios"
                         ng-form="socioForm"
                         class="animated fadeInDown">
                        <div class="col-md-3">
                            <input type="text" class="form-control" name="socio_cpfCnpj"
                                   id="field_socio_cpfCnpj"
                                   disabled
                                   ng-model="socio.socio.dadosPessoais.cpfCnpj">


                        </div>
                        <div class="col-md-7">
                            <input type="text" class="form-control" name="socio_nome"
                                   id="field_socio_nome"
                                   disabled
                                   ng-model="socio.socio.dadosPessoais.nomeRazaoSocial">
                        </div>
                        <div class="col-md-2">
                            <div class="input-group">
                                <input type="text" class="form-control" name="socio_proporcao"
                                       ui-percentage-mask ui-percentage-value
                                       disabled
                                       id="field_socio_proporcao"
                                       ng-model="socio.proporcao">

                            </div>

                        </div>
                    </div>
                </div>
            </div>


            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h4>Enquadramento Fiscal</h4>
                </div>
                <div class="ibox-content">

                    <div class="form-group animated fadeInUp">

                        <div class="col-md-4">
                            <label for="field_porte">Porte</label>
                            <input type="text" class="form-control" name="porte" id="field_porte"
                                   disabled
                                   ng-model="prestadorServicos.enquadramentoFiscal.porte">

                        </div>
                        <div class="col-md-4">
                            <label for="field_porte">Tipo de Contribuinte</label>
                            <input type="text" class="form-control" name="tipoContribuinte" id="field_tipoContribuinte"
                                   disabled
                                   ng-model="prestadorServicos.enquadramentoFiscal.tipoContribuinte">

                        </div>

                        <div class="col-md-4">
                            <label for="field_porte">Regime Tributario</label>
                            <input type="text" class="form-control" name="regimeTributario" id="field_regimeTributario"
                                   disabled
                                   ng-model="prestadorServicos.enquadramentoFiscal.regimeTributario">

                        </div>
                        <div class="col-md-4">
                            <label for="field_porte">Tipo de Iss</label>
                            <input type="text" class="form-control" name="tipoIss" id="field_tipoIss"
                                   disabled
                                   ng-model="prestadorServicos.enquadramentoFiscal.tipoIss">

                        </div>

                        <div class="col-md-4">
                            <label for="field_porte">Tipo de Iss Estimado</label>
                            <input type="text" class="form-control" name="tipoIssEstimado" id="field_tipoIssEstimado"
                                   disabled
                                   ng-model="prestadorServicos.enquadramentoFiscal.tipoIssEstimado">

                        </div>

                        <div class="col-md-4">
                            <label for="field_porte">Valor de Iss Estimado</label>
                            <input type="text" class="form-control" name="valorIssEstimado" id="field_valorIssEstimado"
                                   disabled
                                   ng-model="prestadorServicos.enquadramentoFiscal.valorIssEstimado">

                        </div>
                        <div class="col-md-4">
                            <label for="field_porte">Classificação da Atividade</label>
                            <input type="text" class="form-control" name="classificacaoAtividade"
                                   id="field_classificacaoAtividade"
                                   disabled
                                   ng-model="prestadorServicos.enquadramentoFiscal.classificacaoAtividade">

                        </div>
                        <div class="col-md-4">
                            <label for="field_porte">Tipo de Nota Fiscal</label>
                            <input type="text" class="form-control" name="tipoNotaFiscal" id="field_tipoNotaFiscal"
                                   disabled
                                   ng-model="prestadorServicos.enquadramentoFiscal.tipoNotaFiscal">

                        </div>
                        <div class="col-md-4">
                            <label for="field_porte">Substituto Tributario</label>
                            <input type="text" class="form-control" name="substitutoTributario"
                                   id="field_substitutoTributario"
                                   disabled
                                   value="{{prestadorServicos.enquadramentoFiscal.substitutoTributario? 'Sim': 'Não'}}">

                        </div>


                    </div>
                </div>
            </div>

            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h4>Serviços</h4>
                </div>
                <div class="ibox-content">
                    <div class="form-group">
                        <div class="col-md-2">
                            <label class="center-block">Código</label>
                        </div>
                        <div class="col-md-2">
                            <label class="center-block">Aliquota</label>
                        </div>
                        <div class="col-md-8">
                            <label class="center-block">Descrição</label>
                        </div>
                    </div>
                    <div class="form-group" data-ng-repeat="servico in prestadorServicos.servicos"
                         class="animated fadeInDown">
                        <div class="col-md-2">
                            <input type="text" class="form-control"
                                   name="servico_codigo" id="field_servico_codigo"
                                   disabled
                                   ng-model="servico.codigo">

                        </div>
                        <div class="col-md-2">
                            <input type="text" class="form-control"
                                   name="servico_aliquota" id="field_servico_aliquota"
                                   ng-model="servico.aliquota" disabled>
                        </div>
                        <div class="col-md-8">
                            <input type="text" class="form-control" name="servico_descricao"
                                   id="field_servico_descricao"
                                   disabled
                                   ng-model="servico.descricao">
                        </div>
                    </div>

                </div>
            </div>

            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h4>Cnaes</h4>
                </div>
                <div class="ibox-content">
                    <div class="form-group">
                        <div class="col-md-2">
                            <label class="center-block">Código</label>
                        </div>
                        <div class="col-md-2">
                            <label class="center-block">Descricao</label>
                        </div>
                    </div>
                    <div class="form-group" data-ng-repeat="cnae in prestadorServicos.cnaes"
                         class="animated fadeInDown">
                        <div class="col-md-2">
                            <input type="text" class="form-control"
                                   name="cane_codigo" id="field_cnae_codigo"
                                   disabled
                                   ng-model="cnae.codigo">

                        </div>
                        <div class="col-md-10">
                            <input type="text" class="form-control" name="cnae_descricao"
                                   id="field_cnae_descricao"
                                   disabled
                                   ng-model="cnae.descricao">
                        </div>
                    </div>

                </div>
            </div>

            <div class="ibox float-e-margins" ng-if="criarUsuario">
                <div class="ibox-title">
                    <h4>Usuário de Acesso</h4>
                </div>
                <div class="ibox-content">
                    <div class="form-group">
                        <div class="col-md-6">
                            <label>Senha <span class="text-danger">*</span></label>
                            <input type="password" class="form-control" name="password"
                                   required
                                   placeholder="Senha"
                                   ng-model="prestadorServicos.password" ng-minlength=5 ng-maxlength=50>
                            <password-strength-bar
                                    password-to-check="prestadorServicos.password"></password-strength-bar>
                        </div>
                        <div class="col-md-6">
                            <label>Confirmação de Senha <span class="text-danger">*</span></label>
                            <input type="password" class="form-control" name="confirmPassword"
                                   required
                                   placeholder="Informe a senha novamente"
                                   ng-model="prestadorServicos.confirmPassword" ng-minlength=5 ng-maxlength=50>
                        </div>
                    </div>
                </div>
            </div>

            <button type="submit"
                    class="btn btn-primary btn-group-lg"
                    style="width: 100%">
                <span class="fa fa-angle-double-right"></span>&nbsp;
                Continuar
            </button>

        </div>
    </form>

</div>
